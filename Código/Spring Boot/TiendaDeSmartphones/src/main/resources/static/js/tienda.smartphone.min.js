var datatables_spanish = {
    "sProcessing": "Procesando...",
    "sLengthMenu": "Mostrar _MENU_ registros",
    "sZeroRecords": "No se encontraron resultados",
    "sEmptyTable": "Ningún dato disponible en esta tabla",
    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
    "sInfoPostFix": "",
    "sSearch": "Buscar:",
    "sUrl": "",
    "sInfoThousands": ",",
    "sLoadingRecords": "Cargando...",
    "oPaginate": {
        "sFirst": "Primero",
        "sLast": "Último",
        "sNext": "Siguiente",
        "sPrevious": "Anterior"
    },
    "oAria": {
        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
    }
};

$(document).ready(function () {
    $.get("/smartphone/lista", function (data) {
        for (i = 0; i < data.length; i++) {
            $("#tDatos").append('<tr>' +
                '<td>' + data[i].marca + '</td>' +
                '<td>' + data[i].modelo + '</td>' +
                '<td>' + data[i].descripcion + '</td>' +
                '<td>' + data[i].color + '</td>' +
                '<td>' + data[i].precio + '</td>' +
                '<td>' + data[i].cantidad + '</td>' +
                '<td><button id='+data[i].idSmartphone+' class="btn-danger glyphicon glyphicon-edit"></button></td>' +
                '</tr>');
        }

        var tabla = $("#tablaSmartphones").DataTable(
            {'language': datatables_spanish,
            'aoColumnDefs': [{'bSortable': false, 'aTargets': [6]}]
            });
        modificarSmartphone("#tablaSmartphones",tabla);
    });

    var modificarSmartphone = function (tbody, table) {
        $(tbody).on("click", "button", function () {
            var datos = table.row($(this).parents("tr")).data();
            $("#inputMarca").val(datos[0]);
            $("#inputModelo").val(datos[1]);
            $("#inputDescripcion").val(datos[2]);
            $("#inputColor").val(datos[3]);
            $("#inputPrecio").val(datos[4]);
            $("#inputCantidad").val(datos[5]);
            console.log(datos[6].attr("id"));
            $("#modalRegistro").modal("show");
        });
    }
    
    $("#btnAgregar").click(function () {
        $("#modalRegistro").modal("show");
    });

});



/*var ftabla = function (tbody, table) {
    $(tbody).on("click", "button", function () {
        var datos = table.row($(this).parents("tr")).data();
        console.log(datos);
        swal(datos[0],"sd","success");
    });
}*/



/*$(document).ready(function () {
 $('#tablaSmartphones').DataTable({
 'language': datatables_spanish,
 'aoColumnDefs': [{'bSortable': false, 'aTargets': [6]}],
 responsive: true,
 "sAjaxSource": "/smartphone/lista",
 "sAjaxDataProp": "",
 "order": [[0, "asc"]],
 "aoColumns": [
 {"mData": "marca"},
 {"mData": "modelo"},
 {"mData": "descripcion"},
 {"mData": "color"},
 {"mData": "precio"},
 {"mData": "cantidad"},
 {"mData": "idSmartphone"}
 ]
 })
 }
 );*/